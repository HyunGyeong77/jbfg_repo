@use '../../variables' as *;
@use '../../mixins' as *; 
@use '../../levels' as *;
@use '../../media' as *;

.header {
    @include flexSort(null, center);
    position:fixed;
    width:100%;
    height:6.5rem;
    z-index:$z-index-dropdown;
    transition:background-color 0.3s;

    &::after {
        content:"";
        position:absolute;
        top:100%;
        display:block;
        width:100%;
        height:500px;
        max-height:0px;
        transition:max-height 0.3s, background-color 0.3s;
        border-bottom-right-radius:50px;
        border-bottom-left-radius:50px;
        z-index:$z-index-back;
    }

    & > div {   // header Inner
        position:relative;
        width:100%;
        height:100%;

        & > div {
            @include flexSort(space-between, center);
            width:100%;
            height:100%;
            padding-inline:3.7rem;
            
            & > nav:nth-child(2) {
                display:block;
                height:100%;
    
                & > ul {
                    @include flexSort(null, null);
                    height:100%;
                    font-weight:bold;
    
                    & > li {
                        position:relative;
                        padding:0 0.6rem;
                        
                        & > a {
                            @include flexSort(center, center);
                            min-width:clamp(5.5rem, 10.7vw, 10.7rem);
                            font-size:1rem;
                            height:100%;
                            color:$white;
                        }
    
                        &:hover > a {
                            color:#0A31A8;
                        }
    
                        & > div {
                            position:absolute;
                            width:100%;
                            height:500px;
                            max-height:0px;
                            margin-left:-10px;
                            transition: max-height 0.3s;
                            overflow:hidden;
    
                            & > ul {
                                margin-top:30px;
                                text-align:center;
    
                                & > li {
                                    line-height:46px;
                                    width:80%;
                                    margin-inline:auto;
    
                                    & > a {
                                        color:$text_color;
                                    }
                                    
                                    &:hover > a {
                                        color:#0A31A8;
                                    }
                                }
    
                                &::after {
                                    content:"";
                                    position:absolute;
                                    top:38px;
                                    right:0;
                                    width:1px;
                                    height:395px;
                                    background:rgba(0, 0, 0, 0.1);
                                }
                            }
                        }
                    }
                }     
            }
    
            & > nav:nth-child(3) {
                & > ul {
                    @include flexSort(space-between, center);

                    & > li {
                        position:relative;
    
                        & > a {
                            color:$white;
                        }
    
                        &:first-child {
                            & > a {
                                font-weight:700;
                                font-size:0.85rem;
                                letter-spacing:1px;
                                padding-inline:0.8rem;
                                line-height:1.7rem;
    
                                &::after {
                                    content:"";
                                    position:absolute;
                                    top:0;
                                    left:0;
                                    display:block;
                                    width:100%;
                                    height:100%;
                                    border-radius:50px;
                                    opacity:0.15;
                                    background:$white;
                                }
    
                                &:hover::after {
                                    background:#0A31A8;
                                    opacity:1;
                                    z-index:$z-index-back;
                                }
                            }
                        }
    
                        &:nth-child(2) {
                            @include flexSort(space-between, center);
                            width:40%;
                            margin-left:30px;
                            margin-right:20px;
                            
                            & > a {
                                font-weight:600;
                                font-size:0.7rem;
    
                                &:last-child {
                                    color: rgba(255, 255, 255, 0.3);
                                }
                            }
    
                            &::before {
                                content:"";
                                position:absolute;
                                left:50%;
                                display:block;
                                width:1px;
                                height:13px;
                                background:rgba(255, 255, 255, 0.3);
                            }
                        }
    
                        &:last-child {
                            overflow:hidden;
                            text-indent:100%;
    
                            & > a {
                                display:block;
                                &::before,
                                &::after {
                                    content:"";
                                    position:absolute;
                                    top:0;
                                    right:0;
                                    display:block;
                                    width:20px;
                                    height:2px;
                                    background:$white;
                                }
    
                                &::before {
                                    top:5.5px;
                                }
    
                                &::after {
                                    top:12.5px;
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    &.active {
        background-color:$white;

        &::before {
            content:"";
            position:absolute;
            bottom:0;
            display:block;
            width:100%;
            height:1px;
            background:rgba(0, 0, 0, 0.1);
        }

        &::after {
            max-height:500px;
            background-color:$white;
        }

        & > div > div > nav:nth-child(2) > ul > li {
            & > a {
                color:$text_color;
            }

            & > div {
                max-height:500px;
            }
        }

        & > div > div > nav:nth-child(3) > ul {
            & > li {
                &:first-child > a {
                    color:$text_color;

                    &::after {
                        background:$text_color;
                    }  
                }

                &:nth-child(2) {
                    &::before {
                        background:rgba(0, 0, 0, 0.3);
                    }

                    & > a:first-child {
                        color:#0A31A8;
                    }

                    & > a:last-child {
                        color:rgb(196, 196, 196);
                    }
                }

                &:nth-child(3) > a {
                    &::after,
                    &::before {
                        background:$text_color;
                    }
                }
            }
        }
    }
}

@include media-xlg {
    .header > div > div > nav:nth-child(2) {
        display:none;
    }
}

@include media-md {
    .header > div > div > nav:last-child > ul {
        width:110px;

        & > li:nth-child(2) {
            display:none;
        }
    }
}