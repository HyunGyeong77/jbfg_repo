@use 'variables' as *;
@use 'mixins' as *; 
@use 'levels' as *;

.header {
    @include flexSort(null, center);
    position:fixed;
    width:100%;
    height:6.7rem;
    z-index:$z-index-dropdown;
    transition:background-color 0.3s;

    &::after {
        content:"";
        position:absolute;
        top:100%;
        display:block;
        width:100%;
        height:500px;
        max-height:0px;
        transition:max-height 0.3s, background-color 0.3s;
        border-bottom-right-radius:50px;
        border-bottom-left-radius:50px;
        z-index:$z-index-back;
    }

    & > div {   // header Inner
       @include flexSort(space-between, center);
       width:100%;
       height:100%;
       padding-inline:4rem;

        & > .logo {
            &:hover { 
                cursor:pointer;
            }
        }

        & > nav:nth-child(2) {
            height:100%;

            & > ul {
                @include flexSort(null, null);
                margin-right:15px;
                height:100%;
                font-weight:bold;

                & > li {
                    position:relative;
                    padding:0 0.6rem;
                    
                    & > a {
                        @include flexSort(center, center);
                        min-width:clamp(5.5rem, 10.7vw, 11.5rem);
                        font-size:18px;
                        height:100%;
                        text-align:center;
                        color:$white;
                    }

                    &:hover > a {
                        color:#0A31A8;
                    }

                    & > div {
                        position:absolute;
                        width:100%;
                        height:500px;
                        max-height:0px;
                        margin-left:-10px;
                        transition: max-height 0.3s;
                        overflow:hidden;

                        & > ul {
                            margin-top:30px;
                            text-align:center;

                            & > li {
                                line-height:46px;
                                width:80%;
                                margin-inline:auto;

                                & > a {
                                    color:$text_color;
                                }
                                
                                &:hover > a {
                                    color:#0A31A8;
                                }
                            }

                            &::after {
                                content:"";
                                position:absolute;
                                top:38px;
                                right:0;
                                width:1px;
                                height:395px;
                                background:rgba(0, 0, 0, 0.1);
                            }
                        }
                    }
                }
            }     
        }

        & > nav:nth-child(3) {
            & > ul {
                @include flexSort(space-between, center);
                width:210px;

                & > li {
                    position:relative;

                    & > a {
                        color:$white;
                    }

                    &:first-child {
                        & > a {
                            font-weight:700;

                            &::after {
                                content:"";
                                position:absolute;
                                top:-1px;
                                left:-15px;
                                display:block;
                                width:160%;
                                height:30px;
                                border-radius:50px;
                                opacity:0.15;
                                background:$white;
                            }

                            &:hover::after {
                                background:#0A31A8;
                                opacity:1;
                                z-index:$z-index-back;
                            }
                        }
                    }

                    &:nth-child(2) {
                        @include flexSort(space-between, center);
                        width:60px;
                        margin-left:26px;
                        
                        & > a {
                            font-weight:600;
                            font-size:14px;

                            &:last-child {
                                color: rgba(255, 255, 255, 0.3);
                            }
                        }

                        &::before {
                            content:"";
                            position:absolute;
                            left:30px;
                            display:block;
                            width:1px;
                            height:13px;
                            background:rgba(255, 255, 255, 0.3);
                        }
                    }

                    &:last-child {
                        white-space:nowrap;
                        overflow:hidden;
                        text-indent:100%;

                        & > a {
                            display:block;
                            width:30px;
                            &::before,
                            &::after {
                                content:"";
                                position:absolute;
                                display:block;
                                right:3px;
                                width:23px;
                                height:2px;
                                background:$white;
                            }

                            &::before {
                                top:9px;
                            }

                            &::after {
                                top:16px;
                            }
                        }
                    }
                }
            }
        }
    }

    &.active {
        background-color:$white;

        &::after {
            max-height:500px;
            background-color:$white;
        }

        & > div > nav:nth-child(2) > ul > li {
            & > a {
                color:$text_color;
            }

            & > div {
                max-height:500px;
            }
        }

        & > div > nav:nth-child(3) > ul {
            & > li {
                &:first-child > a {
                    color:$text_color;

                    &::after {
                        background:$text_color;
                    }  
                }

                &:nth-child(2) {
                    &::before {
                        background:rgba(0, 0, 0, 0.3);
                    }

                    & > a:first-child {
                        color:#0A31A8;
                    }

                    & > a:last-child {
                        color:rgb(196, 196, 196);
                    }
                }

                &:nth-child(3) > a {
                    &::after,
                    &::before {
                        background:$text_color;
                    }
                }
            }
        }
    }
}